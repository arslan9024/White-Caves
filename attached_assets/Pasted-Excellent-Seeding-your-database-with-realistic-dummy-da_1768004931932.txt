Excellent. Seeding your database with realistic dummy data is crucial for testing. Here is a structured prompt for your Replit Agent to create a sophisticated seeding script tailored to your UAE real estate platform.

### **Prompt: Create MongoDB Data Seeding Script for Realistic Testing**

**Core Instruction:** You are a senior backend developer and data architect. Your task is to create a comprehensive, reusable database seeding script for the White Caves Real Estate platform. This script must populate the MongoDB database with realistic, contextually accurate dummy data that mimics real operations in Dubai, enabling full testing of all AI dashboards and application functions.

**Context:** The platform uses MongoDB with Mongoose and has core models including `User`, `Property`, `Lead`, `Owner`, `Agent`, and likely `Transaction` or `Contract`. Data must reflect the Dubai luxury real estate market (UAE).

**Task Steps:**

**Phase 1: Analysis & Setup**
1.  **Audit Existing Models:** First, examine the `/server/models/` directory. List all Mongoose model files (e.g., `User.js`, `Property.js`, `Lead.js`, `Owner.js`) and summarize each schema's key fields.
2.  **Plan Data Relationships:** Map the relationships between models (e.g., a `Lead` references a `Property` and a `User` (agent); a `Property` has an `Owner`). The seeding order must respect these dependencies (e.g., create `Owner` and `Property` before `Lead`).
3.  **Setup Seeding Script:** Create a new file: `/scripts/seedDatabase.js`. It must:
    *   Use the same MongoDB connection logic as the main app (from `/server/lib/database.js` or similar).
    *   Use the Mongoose models from `/server/models/`.
    *   Have a `main()` function that can be run with `node scripts/seedDatabase.js`.
    *   Include options to `--clear` existing data and `--count [number]` to control the volume of data generated.

**Phase 2: Design Realistic Data Generators**
For each model, create a function that generates a single, realistic dummy object. The data must be **cohesive** (e.g., a lead's budget matches the price of the property they're interested in).

*   **1. Property Generator (`generateProperty`):**
    *   **Locations:** Use real Dubai communities: `'Palm Jumeirah'`, `'Downtown Dubai'`, `'Dubai Marina'`, `'Emirates Hills'`, `'DAMAC Hills'`, `'Jumeirah Village Circle'`, `'Business Bay'`, `'Al Barsha'`.
    *   **Types & Prices:** Map types to realistic AED price ranges: e.g., `'Studio'` (300K - 800K), `'1BR Apartment'` (800K - 2M), `'3BR Villa'` (3M - 10M), `'Penthouse'` (5M - 25M).
    *   **UAE-Specific Fields:** Populate `reraNumber` (format: `'RN-XXXXXX'`), `dldPermit`, `dewaNumber`. Use statuses: `'For Sale'`, `'For Rent'`, `'Sold'`, `'Under Offer'`.
    *   **Amenities:** Generate a realistic array: `['Swimming Pool', 'Gym', 'Concierge', 'Parking', 'Balcony']`.

*   **2. User/Agent Generator (`generateUser`):**
    *   Create users with roles: `'AGENT'`, `'CLIENT'`, `'ADMIN'`, `'COMPANY_OWNER'`.
    *   For agents, add `performance` metrics (closing rate between 15%-40%), `expertise` array (matching location/type from Property list), and `languages`: `['English', 'Arabic']`.
    *   Use realistic UAE email/phone formats.

*   **3. Lead Generator (`generateLead`):**
    *   **Source:** `'WhatsApp'`, `'Website Form'`, `'Portal'`, `'Referral'`.
    *   **Stage & Score:** Create logical pairs: e.g., a lead in `'qualified'` stage has a `score: 85`, a `'new'` lead has `score: 45`. Tie the lead's `budget` and `propertyType` interest to an actual `Property` in the DB.
    *   **Activities:** Generate a timeline array of `activities` (calls, emails, viewings) to simulate a real journey.

*   **4. Owner Generator (`generateOwner`):**
    *   Use common UAE nationalities in `nationality` field.
    *   Assign some owners multiple properties to test the portfolio view.

**Phase 3: Implement Seeding Logic**
Write the `main()` function with the following steps:
1.  Connect to the database.
2.  **Clear existing collections** (if `--clear` flag is used).
3.  **Generate and save data in sequence:**
    a.  Create 20 `Owner` documents.
    b.  Create 50 `Property` documents, randomly assigning each to an existing `Owner`.
    c.  Create 10 `User` documents (5 `AGENT`, 1 `ADMIN`, 4 `CLIENT`).
    d.  Create 100 `Lead` documents. Each lead must:
        *   Reference a random existing `Property`.
        *   Be assigned to a random `AGENT` User (or be `'Unassigned'`).
        *   Have a `contact` object with a UAE phone number.
    e.  (Optional) Create `Transaction` or `TenancyContract` documents linking `Property`, `Lead` (as client), and `Agent`.
4.  Log progress to the console (e.g., "Created 50 properties...").

**Phase 4: Create Supporting Utility**
*   Create a helper file `/scripts/data/constants.js` that exports arrays of realistic values: `DUBAI_COMMUNITIES`, `PROPERTY_TYPES`, `AGENT_NAMES`, `COMPANY_NAMES`, `AMENITIES_LIST`. This keeps the main script clean.
*   Use a simple, non-internet-dependent random data library like `faker` if available in the Replit environment, or create your own utility functions for generating names, emails, and dates.

**Phase 5: Verification & Integration**
1.  **Create a Readme:** Add a `/scripts/README.md` with instructions: `node scripts/seedDatabase.js --clear --count 50`.
2.  **Update package.json:** Add a script: `"seed": "node scripts/seedDatabase.js --clear"`.
3.  **Test the Script:** The script should run without errors and produce data that makes sense. For example, a query for `'Palm Jumeirah'` properties should show high-value villas/penthouses.

**Final Deliverable:**
1.  The complete, runnable `/scripts/seedDatabase.js` file.
2.  The supporting `/scripts/data/constants.js` file.
3.  Updated `package.json` scripts section.
4.  A brief summary of the data relationships and how to run the script to test the AI dashboards (e.g., "After seeding, Zoe's dashboard should show X, Clara's pipeline should show Y leads...").

---

### **How to Use This Prompt & Next Steps**

1.  **Copy and Run:** Paste this entire prompt into a **new Replit Agent chat**. This isolates the database task.
2.  **Review the Output:** The agent will generate the files. Before running, you may want to review the `seedDatabase.js` script, especially the connection URI, to ensure it points to your correct database (e.g., a local `mongodb://localhost:27017/whitecaves` or a test Atlas cluster).
3.  **Execute:** Run the seed script from your Replit terminal: `npm run seed` or `node scripts/seedDatabase.js --clear`.
4.  **Verify in Your App:** Immediately open your Zoe, Clara, and Linda dashboards. You should now see a rich set of dataâ€”multiple leads in different stages, various properties, and agent assignments. This will allow you to test filtering, searching, and all AI-driven insights with real volume.

This approach moves you from a demo with static JSON imports to a dynamic application backed by a populated database, which is the final step before integrating with live production APIs.